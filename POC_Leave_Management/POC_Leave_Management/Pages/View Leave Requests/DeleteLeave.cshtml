@page
@using System.Data.SqlClient;

@{
    try
{
    String id = requeset.query["id"];
    
     string Constr = "Password=ShadowStriderFantasy1599!;Persist Security Info=True;User ID=Steynrp_29997313;Initial Catalog=dbLeave_management;Data Source=poc-interview.database.windows.net\r\n";
                using (SqlConnection con = new SqlConnection(Constr))
                {
                    con.Open();
                    String sql = "DELETE FROM Request_Leave WHERE Req_ID=@id";
                    using (SqlCommand cmd = new SqlCommand(sql, Constr))
                    {
                        cmd.Parameters.AddWithValue("@id", id);
                        cmd.ExecuteNonQuery();
                    }
                }
}
catch(Exception ex)
{
}
Response.Redirect("/View_Leave_Req/Index");
}